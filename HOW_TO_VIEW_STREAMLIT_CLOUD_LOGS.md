# å¦‚ä½•æŸ¥çœ‹ Streamlit Cloud æ—¥å¿—

## æ–¹æ³• 1: ä»åº”ç”¨ä¸»ç•Œé¢æŸ¥çœ‹ï¼ˆæ¨èï¼‰

1. **æ‰“å¼€ä½ çš„ Streamlit Cloud åº”ç”¨**
   - è®¿é—®ä½ çš„åº”ç”¨ URLï¼ˆä¾‹å¦‚ï¼š`https://your-app.streamlit.app`ï¼‰

2. **ç‚¹å‡»å³ä¸Šè§’çš„èœå•**
   - åœ¨åº”ç”¨å³ä¸Šè§’ï¼Œç‚¹å‡» **"â‹®"**ï¼ˆä¸‰ä¸ªç‚¹ï¼‰æˆ– **"Manage app"** æŒ‰é’®

3. **é€‰æ‹© "Logs"**
   - åœ¨ä¸‹æ‹‰èœå•ä¸­ï¼Œé€‰æ‹© **"Logs"** æˆ– **"View logs"**

4. **æŸ¥çœ‹æ—¥å¿—**
   - ä½ ä¼šçœ‹åˆ°ä¸¤ä¸ªæ ‡ç­¾é¡µï¼š
     - **`stdout`** - æ ‡å‡†è¾“å‡ºï¼ˆæ­£å¸¸æ‰“å°çš„ä¿¡æ¯ï¼‰
     - **`stderr`** - æ ‡å‡†é”™è¯¯ï¼ˆé”™è¯¯å’Œè°ƒè¯•ä¿¡æ¯ï¼‰
   - **é‡ç‚¹æŸ¥çœ‹ `stderr`**ï¼Œå› ä¸ºæˆ‘ä»¬çš„è°ƒè¯•ä¿¡æ¯éƒ½è¾“å‡ºåˆ°è¿™é‡Œ

## æ–¹æ³• 2: ä» Streamlit Cloud ä»ªè¡¨æ¿æŸ¥çœ‹

1. **ç™»å½• Streamlit Cloud**
   - è®¿é—® https://share.streamlit.io/
   - ç™»å½•ä½ çš„è´¦æˆ·

2. **è¿›å…¥åº”ç”¨åˆ—è¡¨**
   - åœ¨ä»ªè¡¨æ¿ä¸­ï¼Œæ‰¾åˆ°ä½ çš„åº”ç”¨

3. **ç‚¹å‡»åº”ç”¨åç§°æˆ–è®¾ç½®**
   - ç‚¹å‡»åº”ç”¨åç§°è¿›å…¥åº”ç”¨è¯¦æƒ…
   - æˆ–è€…ç‚¹å‡»åº”ç”¨æ—è¾¹çš„ **"â‹®"** èœå•

4. **é€‰æ‹© "Logs"**
   - åœ¨åº”ç”¨è¯¦æƒ…é¡µé¢æˆ–èœå•ä¸­ï¼Œé€‰æ‹© **"Logs"**

## æ–¹æ³• 3: ä»åº”ç”¨è®¾ç½®ä¸­æŸ¥çœ‹ï¼ˆå¦‚æœå¯ç”¨ï¼‰

æŸäº› Streamlit Cloud ç‰ˆæœ¬å¯èƒ½åœ¨åº”ç”¨è®¾ç½®ä¸­ä¹Ÿæœ‰æ—¥å¿—é€‰é¡¹ï¼š

1. **æ‰“å¼€ "App settings"**ï¼ˆå°±åƒä½ æˆªå›¾ä¸­çš„é‚£æ ·ï¼‰
2. **æŸ¥çœ‹æ˜¯å¦æœ‰ "Logs" æˆ– "Monitoring" æ ‡ç­¾é¡µ**
   - å¦‚æœæ²¡æœ‰ï¼Œä½¿ç”¨ä¸Šé¢çš„æ–¹æ³• 1 æˆ– 2

## å¦‚ä½•æŸ¥æ‰¾è°ƒè¯•ä¿¡æ¯

åœ¨æ—¥å¿—ä¸­ï¼ŒæŸ¥æ‰¾ä»¥ä¸‹å…³é”®è¯ï¼š

### æˆåŠŸä¿¡æ¯ï¼š
- `ğŸ”` - è°ƒè¯•ä¿¡æ¯
- `âœ…` - æˆåŠŸæ“ä½œ
- `ğŸ’°` - é¢„ç®—ä¿¡æ¯

### é”™è¯¯ä¿¡æ¯ï¼š
- `âŒ` - é”™è¯¯
- `âš ï¸` - è­¦å‘Š

### ç‰¹åˆ«å…³æ³¨ï¼š
- `ğŸ” is_api_available:` - API å¯ç”¨æ€§æ£€æŸ¥
- `ğŸ” classify_with_api()` - API åˆ†ç±»è°ƒç”¨
- `âŒ API key not found` - API key æœªæ‰¾åˆ°
- `âŒ Budget limit reached` - é¢„ç®—é™åˆ¶
- `âš ï¸ API returned invalid category` - API è¿”å›æ— æ•ˆç±»åˆ«

## å¦‚æœæ‰¾ä¸åˆ°æ—¥å¿—é€‰é¡¹

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ‰¾ä¸åˆ°æ—¥å¿—ï¼š

1. **æ£€æŸ¥ Streamlit Cloud ç‰ˆæœ¬**
   - æŸäº›æ—§ç‰ˆæœ¬å¯èƒ½æ²¡æœ‰æ—¥å¿—åŠŸèƒ½
   - å°è¯•æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬

2. **ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·**
   - æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
   - æŸ¥çœ‹ "Console" æ ‡ç­¾é¡µ
   - ä½†æ³¨æ„ï¼šè¿™åªèƒ½çœ‹åˆ°å‰ç«¯æ—¥å¿—ï¼Œåç«¯æ—¥å¿—ï¼ˆstderrï¼‰éœ€è¦åœ¨ Streamlit Cloud ç•Œé¢æŸ¥çœ‹

3. **è”ç³» Streamlit æ”¯æŒ**
   - å¦‚æœç¡®å®æ‰¾ä¸åˆ°æ—¥å¿—åŠŸèƒ½ï¼Œå¯èƒ½éœ€è¦è”ç³» Streamlit Cloud æ”¯æŒ

## å¿«é€Ÿè¯Šæ–­ API é—®é¢˜

å¦‚æœä½ çœ‹åˆ° "API classification returned None" è­¦å‘Šï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. **æ‰“å¼€æ—¥å¿—**ï¼ˆä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼‰
2. **åˆ‡æ¢åˆ° `stderr` æ ‡ç­¾é¡µ**
3. **æŸ¥æ‰¾æœ€è¿‘çš„é”™è¯¯ä¿¡æ¯**ï¼š
   - æŸ¥æ‰¾ `âŒ` å¼€å¤´çš„è¡Œ
   - æŸ¥æ‰¾ `âš ï¸` å¼€å¤´çš„è¡Œ
4. **æ ¹æ®é”™è¯¯ä¿¡æ¯é‡‡å–è¡ŒåŠ¨**ï¼š
   - `âŒ API key not found` â†’ æ£€æŸ¥ Secrets é…ç½®
   - `âŒ Budget limit reached` â†’ å¢åŠ é¢„ç®—æˆ–ç­‰å¾…é‡ç½®
   - `âš ï¸ API returned invalid category` â†’ æ£€æŸ¥ API å“åº”æ ¼å¼

## ç¤ºä¾‹æ—¥å¿—è¾“å‡º

æ­£å¸¸çš„ API è°ƒç”¨æ—¥å¿—åº”è¯¥ç±»ä¼¼è¿™æ ·ï¼š

```
ğŸ” classify_with_api() called: headline='China and US agree on trade...'
ğŸ” is_api_available() returned: True
ğŸ” Provider: openai
ğŸ” Calling _classify_openai()
ğŸ” Attempting API call with key: sk-proj-...
âœ… API call successful: result='Trade & Commerce'
ğŸ” _classify_openai() returned: Trade & Commerce
```

å¦‚æœå‡ºç°é—®é¢˜ï¼Œä¼šçœ‹åˆ°ï¼š

```
ğŸ” classify_with_api() called: headline='...'
ğŸ” is_api_available() returned: False
âŒ API not available, returning None
```

æˆ–

```
ğŸ” classify_with_api() called: headline='...'
ğŸ” is_api_available() returned: True
ğŸ” Provider: openai
ğŸ” Calling _classify_openai()
âŒ API key not found
```

