# ğŸ¯ æœ€ç»ˆé…ç½®æŒ‡å—

## âœ… å·²å®Œæˆ

1. âœ… **å‡­è¯æ–‡ä»¶**: å·²æ‰¾åˆ°å¹¶å¤åˆ¶åˆ°é¡¹ç›®ç›®å½•
2. âœ… **ä¸Šä¼ æµ‹è¯•**: æˆåŠŸä¸Šä¼  48 ç¯‡æ–‡ç« åˆ° Google Sheets
3. âœ… **ä»£ç ä¿®å¤**: ä¿®å¤äº†å‡­è¯è¯»å–é€»è¾‘

---

## ğŸ“‹ ç°åœ¨éœ€è¦ä½ åšçš„ï¼ˆ3æ­¥ï¼‰

### æ­¥éª¤ 1: éªŒè¯ Google Sheets æ•°æ®

**æ‰“å¼€ä½ çš„ Google Sheets**:
https://docs.google.com/spreadsheets/d/1Cltg8pq-jhtgR6_lysW-gNIe9JSKOh2vCT4Pxo7pcpA/edit

**åº”è¯¥èƒ½çœ‹åˆ°**:
- æ–°çš„ Sheet: `Week 2025-11-03`
- 48 è¡Œæ•°æ®ï¼ˆåŒ…å«æ ‡é¢˜è¡Œï¼‰

---

### æ­¥éª¤ 2: åˆ†äº« Google Sheets ç»™ Service Account

**âš ï¸ è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼å¦‚æœæ²¡åšï¼Œç½‘ç«™æ— æ³•è¯»å–æ•°æ®ã€‚**

1. **æ‰“å¼€ Google Sheets**ï¼ˆä¸Šé¢çš„é“¾æ¥ï¼‰
2. **ç‚¹å‡»å³ä¸Šè§’çš„ "Share"ï¼ˆåˆ†äº«ï¼‰æŒ‰é’®**
3. **æ·»åŠ  Service Account é‚®ç®±**:
   ```
   us-china-scraper@us-china-news-scraper.iam.gserviceaccount.com
   ```
4. **è®¾ç½®æƒé™ä¸º "Editor"ï¼ˆç¼–è¾‘è€…ï¼‰**
5. **ç‚¹å‡» "Send"**

---

### æ­¥éª¤ 3: é…ç½® Streamlit Cloud Secrets

1. **è®¿é—® Streamlit Cloud**: https://share.streamlit.io
2. **ç™»å½•** â†’ æ‰¾åˆ°ä½ çš„åº”ç”¨
3. **ç‚¹å‡» Settings** â†’ **Secrets**
4. **æ‰“å¼€æ–‡ä»¶**: `streamlit_secrets_for_cloud.toml`ï¼ˆå·²ä¸ºä½ å‡†å¤‡å¥½ï¼‰
5. **å¤åˆ¶å…¨éƒ¨å†…å®¹** â†’ **ç²˜è´´åˆ° Streamlit Cloud Secrets ç¼–è¾‘å™¨**
6. **ç‚¹å‡» "Save"**
7. **ç­‰å¾…åº”ç”¨é‡æ–°éƒ¨ç½²**ï¼ˆ1-2åˆ†é’Ÿï¼‰

**é…ç½®æ–‡ä»¶ä½ç½®**: `streamlit_secrets_for_cloud.toml`

---

## ğŸ§ª æµ‹è¯•ç½‘ç«™

é…ç½®å®Œæˆåï¼š

1. **æ‰“å¼€ä½ çš„ Streamlit Cloud ç½‘ç«™**
2. **å‹¾é€‰**: "ä» Google Sheets è¯»å–å†å²æ•°æ®"
3. **è¾“å…¥ Spreadsheet ID**: `1Cltg8pq-jhtgR6_lysW-gNIe9JSKOh2vCT4Pxo7pcpA`
4. **ç‚¹å‡»**: "Generate & Export"
5. **åº”è¯¥çœ‹åˆ°**: "âœ… ä» Google Sheets è¯»å–äº† X æ¡å†å²æ•°æ®"

---

## â° å®šæ—¶ä»»åŠ¡ï¼ˆå¯é€‰ä½†æ¨èï¼‰

è®¾ç½®æ¯å¤©è‡ªåŠ¨ä¸Šä¼ æ•°æ®ï¼š

### å¿«é€Ÿè®¾ç½®ï¼ˆCronï¼‰

```bash
# 1. åˆ›å»ºæ—¥å¿—ç›®å½•
mkdir -p /Users/tingyuzheng/Downloads/us_china_picker/logs

# 2. ç¼–è¾‘ crontab
crontab -e

# 3. æ·»åŠ ä»¥ä¸‹è¡Œï¼ˆæ¯å¤©ä¸Šåˆ 9:00ï¼‰
0 9 * * * cd /Users/tingyuzheng/Downloads/us_china_picker && GOOGLE_SHEETS_ID="1Cltg8pq-jhtgR6_lysW-gNIe9JSKOh2vCT4Pxo7pcpA" GOOGLE_CREDENTIALS_PATH="/Users/tingyuzheng/Downloads/us_china_picker/google_credentials.json" /usr/bin/python3 daily_collector_to_sheets.py >> /Users/tingyuzheng/Downloads/us_china_picker/logs/daily_collector.log 2>&1
```

**æµ‹è¯•å®šæ—¶ä»»åŠ¡**:
```bash
cd /Users/tingyuzheng/Downloads/us_china_picker
GOOGLE_SHEETS_ID="1Cltg8pq-jhtgR6_lysW-gNIe9JSKOh2vCT4Pxo7pcpA" GOOGLE_CREDENTIALS_PATH="$(pwd)/google_credentials.json" python3 daily_collector_to_sheets.py
```

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

- [x] å‡­è¯æ–‡ä»¶å·²æ‰¾åˆ°
- [x] ä¸Šä¼ åŠŸèƒ½æµ‹è¯•æˆåŠŸ
- [ ] Google Sheets å·²åˆ†äº«ç»™ Service Account
- [ ] Streamlit Cloud Secrets å·²é…ç½®
- [ ] ç½‘ç«™å¯ä»¥è¯»å– Google Sheets æ•°æ®
- [ ] å®šæ—¶ä»»åŠ¡å·²è®¾ç½®ï¼ˆå¯é€‰ï¼‰

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- `å®Œæˆæ¸…å•_æµ‹è¯•ç»“æœ.md` - è¯¦ç»†æµ‹è¯•ç»“æœ
- `Streamlit_Cloud_é…ç½®æŒ‡å—.md` - Streamlit Cloud é…ç½®
- `å®šæ—¶ä»»åŠ¡è®¾ç½®æŒ‡å—.md` - å®šæ—¶ä»»åŠ¡è¯¦ç»†è¯´æ˜
- `streamlit_secrets_for_cloud.toml` - Secrets é…ç½®æ–‡ä»¶

---

## ğŸ‰ å®Œæˆï¼

æ‰€æœ‰é…ç½®å®Œæˆåï¼Œä½ çš„ç³»ç»Ÿå°†ï¼š
- âœ… æ¯å¤©è‡ªåŠ¨æŠ“å–æ•°æ®åˆ° Google Sheets
- âœ… ç½‘ç«™å¯ä»¥éšæ—¶è¯»å–å†å²æ•°æ®
- âœ… åŒäº‹å¯ä»¥éšæ—¶ä¸‹è½½æœ€æ–°æ•°æ®

